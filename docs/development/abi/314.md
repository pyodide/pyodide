# pyodide_314_0 (under development)

By default, all builds of the Pyodide runtime with Python 3.14 will use the
`pyodide_314_0` ABI.

This section reflects the aspirational ABI for `pyodide_314_0`. This is all
subject to change without notice.

## ABI Specification

### CPython and Emscripten Version

- **CPython**: 3.14
- **Emscripten**: 5.0.0

### WASM_BIGINT

`-sWASM_BIGINT` is the default since Emscripten 4.0.0. All shared libraries
are built with WASM_BIGINT enabled and no explicit flag is required.

### Unwinding ABIs

C++ libraries are built with WebAssembly exception handling (`-fwasm-exceptions`)
and WebAssembly-based `setjmp`/`longjmp` (`-sSUPPORT_LONGJMP=wasm`). To enable
exceptions and `setjmp`/`longjmp`, `-fwasm-exceptions` must be passed at compile
time and link time.

### Rust Toolchain

Rust packages that target `pyodide_314_0` ABI should use the toolchain with
1.93.0 or later, to enable `emscripten-wasm-eh` feature. Unlike
`pyodide_2025_0`, a custom sysroot is no longer required — the
`-Z emscripten-wasm-eh` flag is expected to be stabilized in this toolchain
version.

### Runtime Library Loading Path

There is full support for `RPATH`. The dynamic loader will only load
dependencies that are properly specified on the `RPATH`, just being in
`/lib/python3.14/site-packages/wheel_name.libs` is not sufficient.

### Libraries Linked to the Interpreter

Pyodide is statically linked with the following libraries:

- `libegl.js`
- `libeventloop.js`
- `libGL`
- `libhtml5_webgl.js`
- `libhtml5.js`
- `liblz4`
- `libsdl.js`
- `libwebgl.js`
- `libwebsocket.js`
- `bzip2`
- `zlib`

All of these above come from Emscripten ports and the versions of these libraries are
determined by the version of Emscripten we build with. Any symbols from these
static libraries may be used by shared libraries.

Additionally, the following libraries are linked to the interpreter statically as well.

- `sqlite3` (3.39.0)
- `lzma` (xz) (5.2.2)

## Changes from pyodide_2025_0

This section summarizes only what changed relative to
[pyodide_2025_0](313.md). If you are upgrading from `pyodide_2025_0`, these
are the items you need to address.

### ABI versioning scheme

From Python 3.14, Pyodide uses the ABI versioning scheme based on the Python
version as specified in [PEP 783](https://peps.python.org/pep-0783/), replacing
the previous year-based scheme.

### Emscripten version

Emscripten was upgraded from **4.0.9** to **5.0.0**.

### Rust toolchain simplified

In `pyodide_2025_0`, a Rust nightly was required with the unstable
`-Z emscripten-wasm-eh` flag and a custom sysroot. In `pyodide_314_0`, Rust
1.93.0 or later is sufficient — no custom sysroot or nightly-only flags are
needed.

### Additional statically linked libraries

The following libraries are now statically linked to the interpreter in addition
to the Emscripten port libraries:

- `sqlite3` (3.39.0)
- `lzma` (xz) (5.2.2)
