package:
  name: Pillow
  version: 9.2.0
source:
  sha256: 75e636fd3e0fb872693f23ccb8a5ff2cd578801251f3a4f6854c6a5d437d3c04
  url: https://files.pythonhosted.org/packages/8c/92/2975b464d9926dc667020ed1abfa6276e68c3571dcb77e43347e15ee9eed/Pillow-9.2.0.tar.gz
  patches:
    - patches/0001-Enable-image-formats.patch
  extras:
    - - src/setup.cfg
      - ./setup.cfg
build:
  # RELOCATABLE flag is required because if affects how emscripten build ports.
  cflags: |
    -s RELOCATABLE=1
    -s USE_ZLIB=1
    -s USE_FREETYPE=1
    -s USE_LIBPNG=1
    -s USE_LIBJPEG=1
  ldflags: |
    -ljpeg

requirements:
  # Pillow will use `pkg-config` to find and link these libraries.
  run:
    - libwebp
    - libtiff
test:
  imports:
    - PIL
