package:
  name: gap
  version: 4.14.0
source:
  url: https://github.com/gap-system/gap/releases/download/v4.14.0/gap-4.14.0.tar.gz
  sha256: 845f5272c26feb1b8eb9ef294bf0545f264c1fe5a19b0601bbc65d79d9506487
requirements:
  host:
    - libgmp
    - libmpfr
    #    - libmpfi
    - libmpc
    - zlib
  run: []
about:
  home: https://www.gap-system.org/
  summary:
    GAP - Groups, Algorithms, Programming, a System for Computational Discrete
    Algebra
  license: GPL-2.0-or-later
build:
  type: static_library
  script: |
    emconfigure ./configure \
        CPPFLAGS="-I${WASM_LIBRARY_DIR}/include" \
        LDFLAGS="-L${WASM_LIBRARY_DIR}/lib" \
        --disable-shared \
        --prefix=${WASM_LIBRARY_DIR}
    emmake make -j ${PYODIDE_JOBS:-3}
    emmake make install
extra:
  recipe-maintainers:
    - mkoeppe
