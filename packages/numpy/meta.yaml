package:
  name: numpy
  version: 1.23.1

source:
  url: https://files.pythonhosted.org/packages/13/b1/0c22aa7ca1deda4915cdec9562f839546bb252eecf6ad596eaec0592bd35/numpy-1.23.1.tar.gz
  sha256: d748ef349bfef2e1194b59da37ed5a29c19ea8d7e6342019921ba2ba4fd8b624

  patches:
    - patches/0001-ENH-Add-support-for-platforms-with-missing-fenv-flag.patch
    - patches/0002-ENH-Fix-pointer-size-determination-for-cross-build.patch

build:
  backend-flags: --disable-optimization
  cflags: |
    -Wno-return-type
  cross-build-env: true
  cross-build-files:
    - numpy/core/include/numpy/numpyconfig.h
    - numpy/core/include/numpy/_numpyconfig.h
    - numpy/core/lib/libnpymath.a
    - numpy/random/lib/libnpyrandom.a
test:
  imports:
    - numpy
